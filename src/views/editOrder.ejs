<div class="modal fade" id="editOrderModal" tabindex="-1" aria-labelledby="editOrderModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editOrderModalLabel">Editar Orden</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form id="editOrderForm" action="/ordenes/<%= order.id %>/editar" method="POST" enctype="multipart/form-data">
        
                <div class="modal-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="editIdentificador" class="form-label">Identificador:</label>
                            <select id="editIdentificador" name="identificador" class="form-select" required>
                                <option value="H" <%=order && order.identificador==='H' ? 'selected' : '' %>>H</option>
                                <option value="H" <%=order && order.identificador==='Q' ? 'selected' : '' %>>Q</option>
                                <option value="H" <%=order && order.identificador==='M' ? 'selected' : '' %>>M</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="editEmpresa" class="form-label">Empresa:</label>
                            <input type="text" id="editEmpresa" name="empresa" class="form-control"
                                value="<%= order.empresa %>" required>
                        </div>
                        <div class="col-md-6">
                            <label for="editResponsable" class="form-label">Responsable:</label>
                            <input type="text" id="editResponsable" name="responsable" class="form-control"
                                value="<%= order.responsable %>" required>
                        </div>
                        <div class="col-12">
                            <label for="editProblematica" class="form-label">Problemática:</label>
                            <textarea id="editProblematica" name="problematica" class="form-control" rows="3"
                                required><%= order.problematica %></textarea>
                        </div>
                        <div class="col-12">
                            <label for="editServicios" class="form-label">Servicios Realizados:</label>
                            <textarea id="editServicios" name="servicios_realizados" class="form-control" rows="3"
                                required><%= order.servicios_realizados %></textarea>
                        </div>
                        <div class="col-md-4">
                            <label for="editFecha" class="form-label">Fecha:</label>
                            <input type="date" id="editFecha" name="fecha" class="form-control"
                                value="<%= new Date(order.fecha).toISOString().split('T')[0] %>" required>
                        </div>
                        <div class="col-md-4">
                            <label for="editHoraInicio" class="form-label">Hora de Inicio:</label>
                            <input type="time" id="editHoraInicio" name="hora_inicio" class="form-control"
                                value="<%= order.hora_inicio %>" required>
                        </div>
                        <div class="col-md-4">
                            <label for="editHoraTermino" class="form-label">Hora de Término:</label>
                            <input type="time" id="editHoraTermino" name="hora_termino" class="form-control"
                                value="<%= order.hora_termino %>" required>
                        </div>
                        <div class="col-md-6">
                            <label for="editNivelSatisfaccion" class="form-label">Nivel de Satisfacción:</label>
                            <select id="editNivelSatisfaccion" name="nivel_satisfaccion" class="form-select" required>
                                <option value="Malo" <%=order.nivel_satisfaccion==='Malo' ? 'selected' : '' %>>Malo
                                </option>
                                <option value="Regular" <%=order.nivel_satisfaccion==='Regular' ? 'selected' : '' %>
                                    >Regular</option>
                                <option value="Bueno" <%=order.nivel_satisfaccion==='Bueno' ? 'selected' : '' %>>Bueno
                                </option>
                                <option value="Excelente" <%=order.nivel_satisfaccion==='Excelente' ? 'selected' : '' %>
                                    >Excelente</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="editTelefonoCliente" class="form-label">Teléfono del Cliente:</label>
                            <input type="tel" id="editTelefonoCliente" name="telefono_cliente" class="form-control"
                                maxlength="10" pattern="[0-9]{10}" value="<%= order.telefono_cliente %>" required>
                        </div>
                        <div class="col-md-6">
                            <label for="foto_inicio" class="form-label">Foto de Inicio:</label>
                            <input type="file" id="foto_inicio" name="foto_inicio" class="form-control"
                                accept="image/*">
                            <input type="hidden" name="foto_inicio" value="<%= order.foto_inicio %>">
                            <!-- Enviar el nombre de la foto existente si no se actualiza -->
                            <% if (order.foto_inicio) { %>
                                <img src="/uploads/<%= order.foto_inicio %>" alt="Foto de Inicio" class="img-thumbnail"
                                    style="max-width: 100px;">
                                <% } %>
                        </div>
                        <div class="col-md-6">
                            <label for="foto_fin" class="form-label">Foto de Fin:</label>
                            <input type="file" id="foto_fin" name="foto_fin" class="form-control" accept="image/*">
                            <input type="hidden" name="foto_fin" value="<%= order.foto_fin %>">
                            <!-- Enviar el nombre de la foto existente si no se actualiza -->
                            <% if (order.foto_fin) { %>
                                <img src="/uploads/<%= order.foto_fin %>" alt="Foto de Fin" class="img-thumbnail"
                                    style="max-width: 100px;">
                                <% } %>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="submit" class="btn btn-primary">Actualizar</button>
                </div>
            </form>
        </div>
    </div>
</div>